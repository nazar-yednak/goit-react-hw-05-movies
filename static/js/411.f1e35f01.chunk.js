"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[411],{2383:function(t,e,r){r.d(e,{Eb:function(){return v},Mu:function(){return h},T$:function(){return b},XT:function(){return p},z1:function(){return f}});var n=r(5861),c=r(7757),a=r.n(c),u=r(4569),o=r.n(u),i="f1ede884e56fe0f7b64d4165e0e8bda7",s="https://api.themoviedb.org/3/movie/",p=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat("https://api.themoviedb.org/3/trending/movie/day","?api_key=").concat(i,"&page=").concat(e));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.search,t.next=3,o().get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(i,"&query=").concat(r));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(s,"/").concat(e,"?api_key=").concat(i));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(s,"/").concat(e,"/credits?api_key=").concat(i));case 2:return r=t.sent,t.abrupt("return",r.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=(0,n.Z)(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("".concat(s,"/").concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:return r=t.sent,t.abrupt("return",r.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},411:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n=r(885),c=r(501),a=r(2791),u=r(6871),o=r(184),i=function(t){var e=t.movies,r=(0,u.TH)();return(0,o.jsx)("div",{children:e.length>0&&e.map((function(t){var e=t.id,n=t.title,a=t.poster_path;return(0,o.jsxs)(c.rU,{state:{from:r},to:"".concat(e),children:[n,(0,o.jsx)("img",{height:"100%",src:"https://image.tmdb.org/t/p/w342/".concat(a),alt:n})]},e)}))})},s=r(2383);function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=function(t){var e=t.onSubmit,r=(0,a.useState)({search:""}),c=(0,n.Z)(r,2),u=c[0],i=c[1];return(0,o.jsxs)("form",{onSubmit:function(t){e(h({},u)),t.preventDefault(),i({search:""})},children:[(0,o.jsx)("input",{type:"text",name:"search",value:u.search,onChange:function(t){var e=t.target,r=e.name,n=e.value;i(h(h({},u),{},p({},r,n)))},placeholder:"movie"}),(0,o.jsx)("button",{type:"submit",children:"search"})]})},b=function(){var t=(0,a.useState)([]),e=(0,n.Z)(t,2),r=e[0],u=e[1],p=(0,c.lr)(),f=(0,n.Z)(p,2),h=f[0],b=f[1],l=h.get("search");return(0,a.useEffect)((function(){if(l){!function(){try{(0,s.z1)({search:l}).then((function(t){return u(t.results)}))}catch(t){}}()}}),[l]),(0,o.jsxs)("div",{children:[(0,o.jsx)(v,{onSubmit:function(t){var e=t.search;b({search:e})}}),l&&(0,o.jsx)(i,{movies:r})]})}}}]);
//# sourceMappingURL=411.f1e35f01.chunk.js.map